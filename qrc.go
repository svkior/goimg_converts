package main

// This file is automatically generated by gopkg.in/qml.v1/cmd/genqrc

import (
	"io/ioutil"
	"os"
	"path/filepath"

	"gopkg.in/qml.v1"
)

func init() {
	var r *qml.Resources
	var err error
	if os.Getenv("QRC_REPACK") == "1" {
		err = qrcRepackResources()
		if err != nil {
			panic("cannot repack qrc resources: " + err.Error())
		}
		r, err = qml.ParseResources(qrcResourcesRepacked)
	} else {
		r, err = qml.ParseResourcesString(qrcResourcesData)
	}
	if err != nil {
		panic("cannot parse bundled resources data: " + err.Error())
	}
	qml.LoadResources(r)
}

func qrcRepackResources() error {
	subdirs := []string{"assets"}
	var rp qml.ResourcesPacker
	for _, subdir := range subdirs {
		err := filepath.Walk(subdir, func(path string, info os.FileInfo, err error) error {
			if err != nil {
				return err
			}
			if info.IsDir() {
				return nil
			}
			data, err := ioutil.ReadFile(path)
			if err != nil {
				return err
			}
			rp.Add(filepath.ToSlash(path), data)
			return nil
		})
		if err != nil {
			return err
		}
	}
	qrcResourcesRepacked = rp.Pack().Bytes()
	return nil
}

var qrcResourcesRepacked []byte
var qrcResourcesData = "qres\x00\x00\x00\x01\x00\x00\x12.\x00\x00\x00\x14\x00\x00\x11\xb2\x00\x00\b#import QtQuick 2.2\nimport QtQuick.Controls 1.2\nimport QtQuick.Dialogs 1.1\nimport QtQuick.Layouts 1.1\nimport QtQuick.Window 2.0\nimport Qt.labs.folderlistmodel 2.1\nimport \"./misc\"\n\nItem {\n\twidth: 1034\n\theight: 768\n\tSystemPalette {id: palette}\n\tclip: true\n\n\tFileDialog {\n\t\tid:fileDialog\n\t\tvisible: false\n\t\tmodality: Qt.NonModal\n\t\ttitle: \"Выберите папку с изображениями\"\n\t\tselectExisting: true\n\t\tselectMultiple: false\n\t\tselectFolder: true\n\t\tsidebarVisible: true\n\t\tonAccepted: {\n\t\t\tconsole.log(\"Accepted: \", fileUrls)\n\t\t\t//folderName.text = fileUrls[0]\n\t\t\t//folderModel.folder = fileUrls[0]\n\t\t\timages.scan(fileUrls[0])\n\t\t}\n\t\tonRejected: {\n\t\t\tconsole.log(\"Rejected\")\n\t\t}\n\t}\t\n\n\n\tRectangle{\n\t\tid: bottomBar\n\t\tcolor: \"#000000\"\n\t\tanchors{\n\t\t\ttop: parent.top\n\t\t\tleft: parent.left\n\t\t\tright: parent.right\n\t\t\tbottom: parent.bottom\n\t\t\t} \n\n\t\tColumn {\n\t\t\tspacing: 6\n\t\t\tanchors.top: parent.top\n\t\t\tanchors.bottom: parent.bottom\n\t\t\tanchors.left: parent.left\n\t\t\tanchors.leftMargin: 12\n\n\t\t\tRow {\n\t\t\t\tButton {\n\t\t\t\t\ttext: \"Open\"\n\t\t\t\t\tonClicked: fileDialog.open()\n\t\t\t\t}\n\t\t\t\tTextEdit {\n\t\t\t\t\tid: folderName\n\t\t\t\t\twidth: 240\n\t\t\t\t\ttext: \"\"\n\t\t\t\t\tfont.family: \"Helvetica\"\n\t\t\t\t\tfont.pointSize: 20\n\t\t\t\t\tcolor: \"#0000dd\"\n\t\t\t\t\tfocus: true\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tRow {\n\t\t\t\tspacing: 5\n\t\t\t\tListView {\n\t\t\t\t\tid: filesList\n\t\t\t\t   width: 200\n\t \t\t\t   height: parent.height\n\t \t\t\t   spacing: 7\n\n\t \t\t\t   property int curIndex\n\n\t    \t\t\tmodel: images.len\n\t    \t\t\tdelegate: Selecti{\n\t    \t\t\t\tbtnText: images.imageName(index)\n\t    \t\t\t\tbtnMode: index\n\t    \t\t\t\tbtnSelected: filesList.curIndex\n\t    \t\t\t\tonClicked: {\n\t    \t\t\t\t\t//console.log(\"Clicked:\", fileURL);\n\t    \t\t\t\t\t//imgSrc.source = \"image://pwd/\" + fileURL\n\t    \t\t\t\t\tfilesList.curIndex = index\n\t    \t\t\t\t\timgSrc.source = \"image://pwd/\" + index\n\t    \t\t\t\t}\n\t    \t\t\t}\n\t\t\t\t}\n\t\t\t\tRectangle{\n\t\t\t\t\twidth: 810\n\t\t\t\t\theight: 610\t\t\t\t\n\t\t\t\t\tcolor: \"#888888\"\n\t\t\t\t\tImage {\n\t\t\t\t\t\tid: imgSrc\n\t\t\t\t\t\twidth: 800\n\t\t\t\t\t\theight: 600\n\t\t\t\t\t\tanchors.centerIn: parent\n\t\t\t\t\t\tfillMode: Image.PreserveAspectFit\n\t\t\t\t    \tsource: \"./TTS-watermark-white.svg\"\n\t\t\t\t\t}\t\n\t\t\t\t}\n\n\n\t\t\t}\n\n\n\t\t}\n\t}\n\n}\n\n\x00\x00\t\x1eimport QtQuick 2.3\n\nRectangle {\n    id: container\n    property alias fontSize : defText.font.pixelSize\n    property string btnColor : \"#003300\"\n    property string btnColorSelected : \"#006600\"\n    property string btnText: fileName\n    property string btnMode : \"\"\n    property string btnSelected : \"1\"\n    property bool canProvideClick // Нужно для того чтобы нажатие пошло дальше\n\n    signal clicked()\n    color: btnTrueColor\n\n    property bool isEntered : false\n    property bool isClicked: false\n\n    property string btnClickedColor : (isClicked ? Qt.darker(btnPreColor, 2) : btnPreColor)\n    property string btnPreColor : (isEntered ? Qt.lighter(btnColor, 1.4) : btnColor)\n    property string btnTrueColor : (btnMode == btnSelected ? btnColorSelected : btnClickedColor)\n\n\n    border.color: \"#a37777\" // Поставил коментарий\n    border.width: 2\n    radius: 5\n\n    width: 200\n    height: 40\n\n    DefText {\n        id:defText\n        anchors.fill: parent\n        horizontalAlignment: Text.AlignHCenter\n        verticalAlignment: Text.AlignVCenter\n        font.pixelSize: 14\n        color: container.border.color\n        text: container.btnText\n    }\n    gradient: Gradient {\n        GradientStop {\n            position: 0.0; color: (btnMode == btnSelected ? \"#202020\" : Qt.darker(btnClickedColor))\n        }\n        GradientStop {\n            position: 0.3\n            color:\n                    btnTrueColor\n        }\n        GradientStop {\n            position: 1.0; color: (btnMode == btnSelected ? \"#202020\" : Qt.darker(btnClickedColor))\n        }\n    }\n    MouseArea {\n        id: mouseArea\n        anchors.fill: parent\n        hoverEnabled: true\n        onEntered: container.isEntered = true\n        onExited:   {\n            container.isEntered = false\n            container.isClicked = false\n            container.canProvideClick = false // Если вышли при нажатой мыши, то не вызывать действие\n        }\n        onPressed: {\n            container.canProvideClick = true;\n            container.isClicked = true\n        }\n        onReleased: {\n            container.isClicked = false\n            if(container.canProvideClick){\n                container.clicked(container.btnText)\n            } else {\n            }\n        }\n    }\n}\x00\x00\x00Qimport QtQuick 2.3\n\nText {\n    font.family: \"Arial\"\n    wrapMode: Text.WordWrap\n}\x00\x06\x06\x8a\x9c\xb3\x00a\x00s\x00s\x00e\x00t\x00s\x00\x04\x00\a@\x93\x00m\x00i\x00s\x00c\x00\x0f\x066Q<\x00i\x00m\x00g\x00p\x00r\x00o\x00v\x00i\x00d\x00e\x00r\x00.\x00q\x00m\x00l\x00\v\n\x1b\xd5\\\x00S\x00e\x00l\x00e\x00c\x00t\x00i\x00.\x00q\x00m\x00l\x00\v\fb#|\x00D\x00e\x00f\x00T\x00e\x00x\x00t\x00.\x00q\x00m\x00l\x00\x00\x00\x00\x00\x02\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x12\x00\x02\x00\x00\x00\x02\x00\x00\x00\x04\x00\x00\x00 \x00\x00\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00D\x00\x00\x00\x00\x00\x01\x00\x00\b'\x00\x00\x00`\x00\x00\x00\x00\x00\x01\x00\x00\x11I"
